# CDN

标签（空格分隔）： 面试笔记

---

[toc]
## 什么是CDN
CDN是构建在网络之上的内容分发网络，依靠部署在各地的边缘服务器，通过中心平台的负载均衡、内容分发、调度等功能模块，使用户就近获取所需内容，降低网络拥塞，提高用户访问响应速度和命中率。CDN的关键技术主要有内容存储和分发技术。

## 工作原理
广泛采用各种缓存服务器，将这些缓存服务器分布到用户访问相对集中的地区或网络中，在用户访问网站时，利用全局负载技术将用户的访问指向距离最近的工作正常的缓存服务器上，由缓存服务器直接响应用户请求。    那么，CDN有什么作用呢？   在这里打个比喻吧，比如一个企业的网站服务器在广东，运营商是电信，在北京的联通用户访问企业网站时，因为跨地区，跨运营商的原因，网站打开速度就会比广东当地的电信客户访问速度慢很多，很容易造成这个企业的客户流失。  

## CDN用户访问流程

 - 用户向浏览器输入www.web.com这个域名，浏览器第一次发现本地没有dns缓存，则向网站的DNS服务器请求；
 - 网站的DNS域名解析器设置了CNAME，指向了www.web.51cdn.com,请求指向了CDN网络中的智能DNS负载均衡系统；
 - 智能DNS负载均衡系统解析域名，把对用户响应速度最快的IP节点返回给用户
 - 用户向该IP节点（CDN服务器）发出请求；
 - 由于是第一次访问，CDN服务器会向原web站点请求，并缓存内容；
 - 请求结果发给用户

